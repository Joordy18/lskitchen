(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{69:(e,t,s)=>{"use strict";s.d(t,{supabase:()=>r});let r=(0,s(5647).UU)("https://uqyilcwzosapypgcchka.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVxeWlsY3d6b3NhcHlwZ2NjaGthIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMzNDc1MTAsImV4cCI6MjA2ODkyMzUxMH0.e9ollbywpv3ZH7laJVENWbkY8wNSs66N5rHg4wchvts",{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}})},285:(e,t,s)=>{"use strict";s.d(t,{$:()=>o});var r=s(5155),n=s(2115),i=s(9708),a=s(2085),l=s(9434);let c=(0,a.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef((e,t)=>{let{className:s,variant:n,size:a,asChild:o=!1,...d}=e,u=o?i.DX:"button";return(0,r.jsx)(u,{className:(0,l.cn)(c({variant:n,size:a,className:s})),ref:t,...d})});o.displayName="Button"},1057:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(5155),n=s(5695),i=s(285),a=s(6695),l=s(5494),c=s(7924),o=s(744),d=s(4186),u=s(7580),m=s(2115),x=s(4105),p=s(9509);function h(){let e=(0,n.useRouter)(),t=[{icon:c.A,title:"Recherche intelligente",description:"Trouvez des recettes bas\xe9es sur vos ingr\xe9dients disponibles"},{icon:o.A,title:"IA culinaire",description:"Obtenez des suggestions personnalis\xe9es selon vos go\xfbts"},{icon:d.A,title:"Gain de temps",description:"Des recettes adapt\xe9es \xe0 votre temps de pr\xe9paration"},{icon:u.A,title:"Pour tous",description:"R\xe9gimes sp\xe9ciaux et allerg\xe8nes pris en compte"}];return(0,r.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,r.jsx)(l.F,{}),(0,r.jsx)("section",{className:"py-20 px-6",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,r.jsx)(o.A,{className:"h-20 w-20 text-primary mx-auto mb-6"}),(0,r.jsxs)("h1",{className:"text-5xl font-bold text-foreground mb-6",children:["Bienvenue sur ",(0,r.jsx)("span",{className:"text-primary",children:"LS Kitchen"})]}),(0,r.jsx)("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"D\xe9couvrez des recettes personnalis\xe9es g\xe9n\xe9r\xe9es par intelligence artificielle en fonction de vos ingr\xe9dients, r\xe9gimes alimentaires et pr\xe9f\xe9rences."}),(0,r.jsxs)(i.$,{size:"lg",onClick:()=>e.push("/search"),className:"px-8 py-4 text-lg",children:[(0,r.jsx)(c.A,{className:"mr-2 h-5 w-5"}),"Commencer ma recherche"]})]})}),(0,r.jsx)("section",{className:"py-16 px-6 bg-muted/30",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-center text-foreground mb-12",children:"Pourquoi choisir LS Kitchen ?"}),(0,r.jsx)("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-4",children:t.map((e,t)=>(0,r.jsxs)(a.Zp,{className:"text-center",children:[(0,r.jsxs)(a.aR,{children:[(0,r.jsx)(e.icon,{className:"h-12 w-12 text-primary mx-auto mb-4"}),(0,r.jsx)(a.ZB,{children:e.title})]}),(0,r.jsx)(a.Wu,{children:(0,r.jsx)(a.BT,{children:e.description})})]},t))})]})}),(0,r.jsx)("section",{className:"py-20 px-6",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,r.jsx)("h2",{className:"text-3xl font-bold text-foreground mb-6",children:"Pr\xeat \xe0 cuisiner ?"}),(0,r.jsx)("p",{className:"text-lg text-muted-foreground mb-8",children:"Rejoignez des milliers d'utilisateurs qui d\xe9couvrent de nouvelles saveurs chaque jour"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[(0,r.jsx)(i.$,{size:"lg",onClick:()=>e.push("/search"),className:"px-8",children:"G\xe9n\xe9rer mes recettes"}),(0,r.jsx)(i.$,{variant:"outline",size:"lg",onClick:()=>e.push("/history"),className:"px-8",children:"Voir l'historique"})]})]})}),(0,r.jsx)(function(){let{user:e}=(0,x.A)(),[t,n]=(0,m.useState)([]),[i,l]=(0,m.useState)(null),[c,o]=(0,m.useState)(null),[d,u]=(0,m.useState)(!0);(0,m.useEffect)(()=>{!async function(){if(!e)return u(!1);let{supabase:t}=await Promise.resolve().then(s.bind(s,69)),{data:r,error:i}=await t.from("recipes").select("*").eq("user_id",e.id).eq("is_favorite",!0);i?n([]):n(r||[]),u(!1)}()},[e]);let h=async e=>{var t;let s,r=p.env.GEMINI_API_KEY,n="Tu es un chef cuisinier expert. Propose une recette qui se marie parfaitement avec la recette suivante ou qui est tr\xe8s similaire : ".concat(e.title,".\n\nVoici la recette de r\xe9f\xe9rence :\n").concat(e.description,"\n\nIngr\xe9dients : ").concat((null==(t=e.ingredients)?void 0:t.join(", "))||"",'\n\nDonne une recette compl\xe8te au format JSON suivant (sans texte additionnel) :\n{\n  "title": "nom de la recette",\n  "description": "description courte et app\xe9tissante",\n  "ingredients": ["ingr\xe9dient 1 avec quantit\xe9", "ingr\xe9dient 2 avec quantit\xe9", "etc"],\n  "instructions": "instructions d\xe9taill\xe9es \xe9tape par \xe9tape pour pr\xe9parer la recette",\n  "prep_time": nombre_minutes_preparation,\n  "cook_time": nombre_minutes_cuisson,\n  "servings": nombre_portions,\n  "difficulty": "easy" ou "medium" ou "hard",\n  "calories": nombre_calories,\n  "image_url": "URL d\'une image libre sur internet illustrant la recette (recherche par nom de recette)"\n}\nIMPORTANT :\n - La recette doit \xeatre originale et compl\xe9mentaire ou tr\xe8s proche de la recette de r\xe9f\xe9rence\n - Utilise des ingr\xe9dients coh\xe9rents\n - Fournis des instructions d\xe9taill\xe9es et pratiques\n - Assure-toi que les temps sont r\xe9alistes\n - R\xe9ponds UNIQUEMENT avec le JSON valide, rien d\'autre\n - Assure toi que chaque recette contient obligatoirement tous les champs demand\xe9s'),i=await fetch("https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=".concat(r),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:n}]}],generationConfig:{temperature:.7,topK:40,topP:.95,maxOutputTokens:2048}})});if(!i.ok)return void o({title:"Erreur",description:"Impossible de g\xe9n\xe9rer la recette."});let a=await i.json();if(!a.candidates||!a.candidates[0]||!a.candidates[0].content)return void o({title:"Erreur",description:"R\xe9ponse invalide de l'IA."});let l=a.candidates[0].content.parts[0].text;try{let e=l.match(/\{[\s\S]*\}/),t=e?e[0]:l;s=JSON.parse(t)}catch(e){o({title:"Erreur",description:"Impossible de parser la recette g\xe9n\xe9r\xe9e."});return}o(s)};return((0,m.useEffect)(()=>{if(t.length>0){let s=Math.abs(function(e){let t=0;for(let s=0;s<e.length;s++)t=(t<<5)-t+e.charCodeAt(s)|0;return t}(new Date().toISOString().slice(0,10)+e.id))%t.length,r=t[s];l(r),h(r)}},[t,e]),d)?(0,r.jsx)("section",{className:"py-12 px-6",children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto text-center",children:(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"Chargement des recommandations..."})})}):e?0===t.length?(0,r.jsx)("section",{className:"py-12 px-6",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Recommandation du jour"}),(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"Commencez \xe0 liker des recettes pour obtenir des recommandations !"})]})}):(0,r.jsx)("section",{className:"py-12 px-6",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Recommandation du jour"}),c?(0,r.jsxs)(a.Zp,{className:"mx-auto max-w-xl",children:[(0,r.jsx)(a.aR,{children:(0,r.jsxs)(a.ZB,{children:["Suggestion IA : ",c.title]})}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)(a.BT,{children:c.description}),c.image&&(0,r.jsx)("img",{src:c.image,alt:c.title,className:"w-full h-64 object-cover rounded mt-4"}),c.ingredients&&(0,r.jsxs)("div",{className:"text-left mt-4",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"Ingr\xe9dients :"}),(0,r.jsx)("ul",{className:"list-disc list-inside",children:c.ingredients.map((e,t)=>(0,r.jsx)("li",{children:e},t))})]}),c.steps&&(0,r.jsxs)("div",{className:"text-left mt-4",children:[(0,r.jsx)("h3",{className:"font-semibold mb-2",children:"\xc9tapes :"}),(0,r.jsx)("ol",{className:"list-decimal list-inside",children:c.steps.map((e,t)=>(0,r.jsx)("li",{children:e},t))})]})]})]}):(0,r.jsx)("p",{className:"text-muted-foreground",children:"G\xe9n\xe9ration de la suggestion IA en cours..."})]})}):(0,r.jsx)("section",{className:"py-12 px-6",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-foreground mb-4",children:"Recommandation du jour"}),(0,r.jsx)("p",{className:"text-lg text-muted-foreground",children:"Connectez vous pour obtenir vos recommandations !"})]})})},{})]})}},3500:(e,t,s)=>{Promise.resolve().then(s.bind(s,1057))},4105:(e,t,s)=>{"use strict";s.d(t,{A:()=>c,O:()=>l});var r=s(5155),n=s(2115),i=s(69);let a=(0,n.createContext)(void 0),l=e=>{let{children:t}=e,[s,l]=(0,n.useState)(null),[c,o]=(0,n.useState)(null),[d,u]=(0,n.useState)(!0);(0,n.useEffect)(()=>{let{data:{subscription:e}}=i.supabase.auth.onAuthStateChange((e,t)=>{var s;o(t),l(null!=(s=null==t?void 0:t.user)?s:null),u(!1)});return i.supabase.auth.getSession().then(e=>{var t;let{data:{session:s}}=e;o(s),l(null!=(t=null==s?void 0:s.user)?t:null),u(!1)}),()=>e.unsubscribe()},[]);let m=async(e,t)=>{let{error:s}=await i.supabase.auth.signInWithPassword({email:e,password:t});return{error:s}},x=async(e,t)=>{let s="".concat(window.location.origin,"/"),{error:r}=await i.supabase.auth.signUp({email:e,password:t,options:{emailRedirectTo:s}});return{error:r}},p=async()=>{await i.supabase.auth.signOut()};return(0,r.jsx)(a.Provider,{value:{user:s,session:c,loading:d,signIn:m,signUp:x,signOut:p},children:t})},c=()=>{let e=(0,n.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},4186:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},5494:(e,t,s)=>{"use strict";s.d(t,{F:()=>p});var r=s(5155),n=s(6874),i=s.n(n),a=s(5695),l=s(285),c=s(4105),o=s(744),d=s(7924),u=s(9676),m=s(1007),x=s(4835);let p=()=>{let{signOut:e,user:t}=(0,c.A)(),s=(0,a.usePathname)(),n=[{path:"/",label:"Accueil",icon:o.A},{path:"/search",label:"Recherche",icon:d.A},{path:"/history",label:"Historique",icon:u.A},{path:"/profile",label:"Profil",icon:m.A}],p=async()=>{await e()};return(0,r.jsx)("nav",{className:"bg-card border-b border-border px-6 py-4",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-between",children:[(0,r.jsxs)(i(),{href:"/",className:"flex items-center space-x-2",children:[(0,r.jsx)(o.A,{className:"h-8 w-8 text-primary"}),(0,r.jsx)("span",{className:"text-2xl font-bold text-primary",children:"LS Kitchen"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-6",children:[n.map(e=>{let{path:t,label:n,icon:a}=e;return(0,r.jsxs)(i(),{href:t,className:"flex items-center space-x-2 px-4 py-2 rounded-lg transition-colors ".concat(s===t?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"),children:[(0,r.jsx)(a,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"hidden md:inline",children:n})]},t)}),t?(0,r.jsxs)(l.$,{variant:"outline",size:"sm",onClick:p,className:"flex items-center space-x-2",children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"hidden md:inline",children:"D\xe9connexion"})]}):(0,r.jsx)(l.$,{variant:"outline",size:"sm",className:"flex items-center space-x-2",children:(0,r.jsxs)(i(),{href:"/auth",children:[(0,r.jsx)(x.A,{className:"h-4 w-4"}),(0,r.jsx)("span",{className:"hidden md:inline",children:"Connexion"})]})})]})]})})}},6695:(e,t,s)=>{"use strict";s.d(t,{BT:()=>o,Wu:()=>d,ZB:()=>c,Zp:()=>a,aR:()=>l});var r=s(5155),n=s(2115),i=s(9434);let a=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...n})});a.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",s),...n})});l.displayName="CardHeader";let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("h3",{ref:t,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",s),...n})});c.displayName="CardTitle";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("p",{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",s),...n})});o.displayName="CardDescription";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("p-6 pt-0",s),...n})});d.displayName="CardContent",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{ref:t,className:(0,i.cn)("flex items-center p-6 pt-0",s),...n})}).displayName="CardFooter"},7580:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let r=(0,s(9946).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var r=s(2596),n=s(9688);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,n.QP)((0,r.$)(t))}}},e=>{e.O(0,[225,105,441,964,358],()=>e(e.s=3500)),_N_E=e.O()}]);